(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{154:function(t,e,r){"use strict";r.r(e);var o={props:{customer:{required:!0}},methods:{changeCustomer:function(t){t.preventDefault(),this.$store.commit("selectPaymentMethod",null),this.$store.commit("setCustomer",null)}}},n=r(20),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"selected-customer"}},[r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"flex-grow"},[r("span",{staticClass:"rounded-full text-white uppercase px-2 py-1 text-xs font-bold mr-3",staticStyle:{"background-color":"#327dff"}},[t._v("\n                "+t._s("person"==t.customer.customerType?"Private customer":"Business customer")+"\n            ")]),t._v(" "),r("p",{staticClass:"text-sm mt-3"},[r("span",[t._v(t._s(t.customer.firstName)+" "+t._s(t.customer.lastName))]),r("br"),t._v(" "),r("span",[t._v(t._s(t.customer.email))])])]),t._v(" "),r("div",[r("button",{staticClass:"text-base rounded py-2 text-gray-600",on:{click:t.changeCustomer}},[t._v("Change")])])])])}),[],!1,null,null,null);e.default=component.exports},155:function(t,e,r){"use strict";r.r(e);r(30),r(12),r(59);var o={data:function(){return{customer:{customerType:"person",firstName:null,lastName:null,email:null},errors:{},paymentMethods:this.$store.state.paymentMethods}},methods:{submitForm:function(t){this.errors={},this.customer.customerType||(this.errors.customer="Please select a customer type"),this.customer.firstName||(this.errors.firstName="Please enter your first name"),this.customer.lastName||(this.errors.lastName="Please enter your last name"),this.customer.email||(this.errors.email="Please enter a valid email"),0==Object.keys(this.errors).length&&(this.$store.commit("selectPaymentMethod",t),this.$store.commit("setCustomer",this.customer))}}},n=r(20),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{attrs:{id:"customer-form"}},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"customer-type"}},[t._v("\n        Customer type\n    ")]),t._v(" "),r("div",{staticClass:"inline-block relative w-full mb-6"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.customerType,expression:"customer.customerType"}],staticClass:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"customer-type"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customer,"customerType",e.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:""},domProps:{value:"person"}},[t._v("Private person")]),t._v(" "),r("option",{domProps:{value:"business"}},[t._v("Business")])]),t._v(" "),r("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[r("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[r("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])]),t._v(" "),this.errors.customer?r("p",{staticClass:"text-red-500 text-xs italic"},[t._v(t._s(this.errors.customer))]):t._e()]),t._v(" "),r("div",{staticClass:"flex flex-wrap -mx-3 mb-6"},[r("div",{staticClass:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"customer-first-name"}},[t._v("\n                First Name\n            ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.firstName,expression:"customer.firstName"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"customer-first-name",type:"text"},domProps:{value:t.customer.firstName},on:{input:function(e){e.target.composing||t.$set(t.customer,"firstName",e.target.value)}}}),t._v(" "),this.errors.firstName?r("p",{staticClass:"text-red-500 text-xs italic"},[t._v(t._s(this.errors.firstName))]):t._e()]),t._v(" "),r("div",{staticClass:"w-full md:w-1/2 px-3"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"customer-last-name"}},[t._v("\n                Last Name\n            ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.lastName,expression:"customer.lastName"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"customer-last-name",type:"text"},domProps:{value:t.customer.lastName},on:{input:function(e){e.target.composing||t.$set(t.customer,"lastName",e.target.value)}}}),t._v(" "),this.errors.lastName?r("p",{staticClass:"text-red-500 text-xs italic"},[t._v(t._s(this.errors.lastName))]):t._e()])]),t._v(" "),r("div",{staticClass:"flex flex-wrap -mx-3 mb-6"},[r("div",{staticClass:"w-full px-3"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"customer-email"}},[t._v("\n                Email\n            ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.email,expression:"customer.email"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"customer-email",type:"email"},domProps:{value:t.customer.email},on:{input:function(e){e.target.composing||t.$set(t.customer,"email",e.target.value)}}}),t._v(" "),this.errors.email?r("p",{staticClass:"text-red-500 text-xs italic"},[t._v(t._s(this.errors.email))]):t._e()])]),t._v(" "),r("div",{staticClass:"w-full flex justify-center"},t._l(this.paymentMethods,(function(e){return r("button",{key:e.id,staticClass:"text-base rounded py-2 px-6 mx-2 text-white shadow-lg hover:shadow-none self-end",staticStyle:{"background-color":"#327dff"},attrs:{disabled:e.selected},on:{click:function(r){return r.preventDefault(),t.submitForm(e)}}},[t._v("\n            "+t._s(e.title)+"\n        ")])})),0)])}),[],!1,null,null,null);e.default=component.exports},156:function(t,e,r){"use strict";r.r(e);var o=r(55),n=(r(29),r(3)),c={data:function(){return{externalMountedObject:null,paymentMethods:this.$store.state.paymentMethods}},mounted:function(){var t=this;this.paymentMethods.forEach((function(element){element.selected&&t.didSelectPaymentMethod(element)}))},methods:{selectPaymentMethod:function(t){this.$store.commit("selectPaymentMethod",t),this.didSelectPaymentMethod(t)},didSelectPaymentMethod:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.externalMountedObject&&e.externalMountedObject.destroy(),t.next=3,e.createSession();case 3:return r=t.sent,n=r.token,c=new Bambora.InlineCheckout(n,{eventHandlerMap:Object(o.a)({},Event.Authorize,[function(t){return console.log(t)}])}),l=e.$refs["external-mount"],t.next=9,c.mount(l);case 9:e.externalMountedObject=c;case 10:case"end":return t.stop()}}),t)})))()},createSession:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){var data,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"VGNBR1BvNjA0b1BJZXdncmQ3MzZAVDY2ODEwODkwMTo5QTM2VjQ1S3I1ZzFFRnNpU1ZsSEVxTlFudzJnVnozT0R4SnM4ZUt1","https://api.v1.checkout.bambora.com/sessions",data={order:{id:"2",amount:"48702",currency:"NOK"},url:{accept:"http://localhost:3001/accept",cancel:"http://localhost:3001/accept"}},t.next=5,fetch("https://api.v1.checkout.bambora.com/sessions",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Basic ".concat("VGNBR1BvNjA0b1BJZXdncmQ3MzZAVDY2ODEwODkwMTo5QTM2VjQ1S3I1ZzFFRnNpU1ZsSEVxTlFudzJnVnozT0R4SnM4ZUt1")},body:JSON.stringify(data)});case 5:return e=t.sent,t.next=8,e.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))()}}},l=r(20),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"payment-selector"}},[r("div",{staticClass:"w-full flex justify-center pt-6 mb-4"},t._l(this.paymentMethods,(function(e){return r("button",{key:e.id,staticClass:"text-base rounded py-2 px-6 mx-2 hover:shadow-none self-end",class:e.selected?"text-white shadow-lg":"text-black shadow",style:e.selected?"background-color:#327dff":"",attrs:{disabled:e.selected},on:{click:function(r){return t.selectPaymentMethod(e)}}},[t._v("\n            "+t._s(e.title)+"\n        ")])})),0),t._v(" "),r("div",[r("div",{staticClass:"px-10 pt-2 pb-4 text-grey-darkest text-sm"},[r("div",{ref:"external-mount",staticStyle:{height:"500px"}})])])])}),[],!1,null,null,null);e.default=component.exports},157:function(t,e,r){"use strict";r.r(e);var o={name:"checkout-frame",computed:{customer:function(){return this.$store.state.customer},hasCustomer:function(){return null!=this.$store.state.customer}}},n=r(20),component=Object(n.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"max-w-lg mx-auto my-8"},[e("section",{staticClass:"rounded-lg p-4 mb-4",class:this.hasCustomer?"":"shadow",attrs:{id:"customer"}},[this.hasCustomer?e("SelectedCustomer",{attrs:{customer:this.customer}}):e("CustomerForm")],1),this._v(" "),this.hasCustomer?e("section",{staticClass:"shadow",attrs:{id:"payment"}},[e("PaymentSelector")],1):this._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SelectedCustomer:r(154).default,CustomerForm:r(155).default,PaymentSelector:r(156).default})}}]);