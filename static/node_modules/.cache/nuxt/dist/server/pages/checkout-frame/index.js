exports.ids = [1];
exports.modules = {

/***/ 23:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/SelectedCustomer.vue?vue&type=template&id=5d166b9c&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{"id":"selected-customer"}},[_vm._ssrNode("<div class=\"flex items-center\"><div class=\"flex-grow\"><span class=\"rounded-full text-white uppercase px-2 py-1 text-xs font-bold mr-3\" style=\"background-color:#327dff\">"+_vm._ssrEscape("\n                "+_vm._s(_vm.customer.customerType == 'person' ? 'Private customer' : 'Business customer')+"\n            ")+"</span> <p class=\"text-sm mt-3\"><span>"+_vm._ssrEscape(_vm._s(_vm.customer.firstName)+" "+_vm._s(_vm.customer.lastName))+"</span><br> <span>"+_vm._ssrEscape(_vm._s(_vm.customer.email))+"</span></p></div> <div><button class=\"text-base rounded py-2 text-gray-600\">Change</button></div></div>")])}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/SelectedCustomer.vue?vue&type=template&id=5d166b9c&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/SelectedCustomer.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var SelectedCustomervue_type_script_lang_js_ = ({
  props: {
    customer: {
      required: true
    }
  },
  methods: {
    changeCustomer(e) {
      e.preventDefault();
      this.$store.commit('selectPaymentMethod', null);
      this.$store.commit('setCustomer', null);
    }

  }
});
// CONCATENATED MODULE: ./components/SelectedCustomer.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_SelectedCustomervue_type_script_lang_js_ = (SelectedCustomervue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/SelectedCustomer.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_SelectedCustomervue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "703549e2"
  
)

/* harmony default export */ var SelectedCustomer = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 24:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/CustomerForm.vue?vue&type=template&id=4d3964f8&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{attrs:{"id":"customer-form"}},[_vm._ssrNode("<label for=\"customer-type\" class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n        Customer type\n    </label> "),_vm._ssrNode("<div class=\"inline-block relative w-full mb-6\">","</div>",[_c('select',{directives:[{name:"model",rawName:"v-model",value:(_vm.customer.customerType),expression:"customer.customerType"}],staticClass:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline",attrs:{"id":"customer-type"},on:{"change":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return val}); _vm.$set(_vm.customer, "customerType", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{"selected":""},domProps:{"value":'person'}},[_vm._v("Private person")]),_vm._v(" "),_c('option',{domProps:{"value":'business'}},[_vm._v("Business")])]),_vm._ssrNode(" <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" class=\"fill-current h-4 w-4\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"></path></svg></div> "+((this.errors.customer)?("<p class=\"text-red-500 text-xs italic\">"+_vm._ssrEscape(_vm._s(this.errors.customer))+"</p>"):"<!---->"))],2),_vm._ssrNode(" <div class=\"flex flex-wrap -mx-3 mb-6\"><div class=\"w-full md:w-1/2 px-3 mb-6 md:mb-0\"><label for=\"customer-first-name\" class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                First Name\n            </label> <input id=\"customer-first-name\" type=\"text\""+(_vm._ssrAttr("value",(_vm.customer.firstName)))+" class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"> "+((this.errors.firstName)?("<p class=\"text-red-500 text-xs italic\">"+_vm._ssrEscape(_vm._s(this.errors.firstName))+"</p>"):"<!---->")+"</div> <div class=\"w-full md:w-1/2 px-3\"><label for=\"customer-last-name\" class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                Last Name\n            </label> <input id=\"customer-last-name\" type=\"text\""+(_vm._ssrAttr("value",(_vm.customer.lastName)))+" class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"> "+((this.errors.lastName)?("<p class=\"text-red-500 text-xs italic\">"+_vm._ssrEscape(_vm._s(this.errors.lastName))+"</p>"):"<!---->")+"</div></div> <div class=\"flex flex-wrap -mx-3 mb-6\"><div class=\"w-full px-3\"><label for=\"customer-email\" class=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                Email\n            </label> <input id=\"customer-email\" type=\"email\""+(_vm._ssrAttr("value",(_vm.customer.email)))+" class=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"> "+((this.errors.email)?("<p class=\"text-red-500 text-xs italic\">"+_vm._ssrEscape(_vm._s(this.errors.email))+"</p>"):"<!---->")+"</div></div> <div class=\"w-full flex justify-center\">"+(_vm._ssrList((this.paymentMethods),function(method){return ("<button"+(_vm._ssrAttr("disabled",method.selected))+" class=\"text-base rounded py-2 px-6 mx-2 text-white shadow-lg hover:shadow-none self-end\" style=\"background-color:#327dff\">"+_vm._ssrEscape("\n            "+_vm._s(method.title)+"\n        ")+"</button>")}))+"</div>")],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/CustomerForm.vue?vue&type=template&id=4d3964f8&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/CustomerForm.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var CustomerFormvue_type_script_lang_js_ = ({
  data() {
    return {
      customer: {
        customerType: 'person',
        firstName: null,
        lastName: null,
        email: null
      },
      errors: {},
      paymentMethods: this.$store.state.paymentMethods
    };
  },

  methods: {
    submitForm(selectedPaymentMethod) {
      // Reset `error` object
      this.errors = {};

      if (!this.customer.customerType) {
        this.errors['customer'] = 'Please select a customer type';
      }

      if (!this.customer.firstName) {
        this.errors['firstName'] = 'Please enter your first name';
      }

      if (!this.customer.lastName) {
        this.errors['lastName'] = 'Please enter your last name';
      }

      if (!this.customer.email) {
        this.errors['email'] = 'Please enter a valid email';
      }

      if (Object.keys(this.errors).length != 0) {
        return;
      }

      this.$store.commit('selectPaymentMethod', selectedPaymentMethod);
      this.$store.commit('setCustomer', this.customer);
    }

  }
});
// CONCATENATED MODULE: ./components/CustomerForm.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_CustomerFormvue_type_script_lang_js_ = (CustomerFormvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/CustomerForm.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_CustomerFormvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "2b9c53b8"
  
)

/* harmony default export */ var CustomerForm = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 25:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/PaymentSelector.vue?vue&type=template&id=2ff61562&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{"id":"payment-selector"}},[_vm._ssrNode("<div class=\"w-full flex justify-center pt-6 mb-4\">"+(_vm._ssrList((this.paymentMethods),function(method){return ("<button"+(_vm._ssrAttr("disabled",method.selected))+(_vm._ssrClass("text-base rounded py-2 px-6 mx-2 hover:shadow-none self-end",method.selected ? 'text-white shadow-lg' : 'text-black shadow'))+(_vm._ssrStyle(null,method.selected ? 'background-color:#327dff' : '', null))+">"+_vm._ssrEscape("\n            "+_vm._s(method.title)+"\n        ")+"</button>")}))+"</div> <div><div class=\"px-10 pt-2 pb-4 text-grey-darkest text-sm\"><div style=\"height: 500px\"></div></div></div>")])}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/PaymentSelector.vue?vue&type=template&id=2ff61562&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/PaymentSelector.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var PaymentSelectorvue_type_script_lang_js_ = ({
  data() {
    return {
      externalMountedObject: null,
      paymentMethods: this.$store.state.paymentMethods
    };
  },

  mounted() {
    this.paymentMethods.forEach(element => {
      if (element.selected) {
        this.didSelectPaymentMethod(element);
      }
    });
  },

  methods: {
    selectPaymentMethod(method) {
      this.$store.commit('selectPaymentMethod', method);
      this.didSelectPaymentMethod(method);
    },

    async didSelectPaymentMethod(method) {
      if (this.externalMountedObject) {
        this.externalMountedObject.destroy();
      }

      const session = await this.createSession();
      const token = session.token;
      const checkout = new Bambora.InlineCheckout(token, {
        eventHandlerMap: {
          [Event.Authorize]: [e => console.log(e)]
        }
      });
      const mountTo = this.$refs['external-mount'];
      await checkout.mount(mountTo);
      this.externalMountedObject = checkout;
    },

    async createSession() {
      const accessToken = 'VGNBR1BvNjA0b1BJZXdncmQ3MzZAVDY2ODEwODkwMTo5QTM2VjQ1S3I1ZzFFRnNpU1ZsSEVxTlFudzJnVnozT0R4SnM4ZUt1';
      const url = 'https://api.v1.checkout.bambora.com/sessions';
      const data = {
        order: {
          id: '2',
          amount: '48702',
          currency: 'NOK'
        },
        url: {
          accept: 'http://localhost:3001/accept',
          cancel: 'http://localhost:3001/accept'
        }
      };
      const response = await fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json',
          'Authorization': `Basic ${accessToken}`
        },
        body: JSON.stringify(data)
      });
      return await response.json();
    }

  }
});
// CONCATENATED MODULE: ./components/PaymentSelector.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_PaymentSelectorvue_type_script_lang_js_ = (PaymentSelectorvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/PaymentSelector.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_PaymentSelectorvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "3df896ff"
  
)

/* harmony default export */ var PaymentSelector = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 26:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/checkout-frame/index.vue?vue&type=template&id=1e61da22&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"max-w-lg mx-auto my-8"},[_vm._ssrNode("<section id=\"customer\""+(_vm._ssrClass("rounded-lg p-4 mb-4",_vm.hasCustomer ? '' : 'shadow'))+">","</section>",[(_vm.hasCustomer)?_c('SelectedCustomer',{attrs:{"customer":this.customer}}):_c('CustomerForm')],1),_vm._ssrNode(" "),(_vm.hasCustomer)?_vm._ssrNode("<section id=\"payment\" class=\"shadow\">","</section>",[_c('PaymentSelector')],1):_vm._e()],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/checkout-frame/index.vue?vue&type=template&id=1e61da22&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/checkout-frame/index.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var checkout_framevue_type_script_lang_js_ = ({
  name: 'checkout-frame',
  computed: {
    customer() {
      return this.$store.state.customer;
    },

    hasCustomer() {
      return this.$store.state.customer != null;
    }

  }
});
// CONCATENATED MODULE: ./pages/checkout-frame/index.vue?vue&type=script&lang=js&
 /* harmony default export */ var pages_checkout_framevue_type_script_lang_js_ = (checkout_framevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/checkout-frame/index.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  pages_checkout_framevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "74459db2"
  
)

/* harmony default export */ var checkout_frame = __webpack_exports__["default"] = (component.exports);

/* nuxt-component-imports */
installComponents(component, {SelectedCustomer: __webpack_require__(23).default,CustomerForm: __webpack_require__(24).default,PaymentSelector: __webpack_require__(25).default})


/***/ })

};;
//# sourceMappingURL=index.js.map